(function(){"use strict";var o={2926:function(o,a,t){var e=t(9242),s=t(3396);const r={id:"app",class:"container"},n=(0,s._)("div",{class:"row"},[(0,s._)("div",{class:"col-md-12 mt-2"},[(0,s._)("h1",null,"GESTION CLIENTES")])],-1),i={class:"row"},u={class:"col-md-12"};function l(o,a,t,e,l,d){const c=(0,s.up)("formulario-usuario"),m=(0,s.up)("tabla-usuarios");return(0,s.wg)(),(0,s.iD)("div",r,[n,(0,s._)("div",i,[(0,s._)("div",u,[(0,s.Wm)(c,{onAltaUsuario:d.postUsuario},null,8,["onAltaUsuario"]),(0,s.Wm)(m,{usuarios:l.usuarios,onEliminarusuario:d.deleteUsuario,onEditarUsuario:o.editarusuario,onCancelarEdicion:o.cancelaredicion,onActualizarusuario:d.putusuario},null,8,["usuarios","onEliminarusuario","onEditarUsuario","onCancelarEdicion","onActualizarusuario"])])])])}var d=t(7139);const c=o=>((0,s.dD)("data-v-aa4241c6"),o=o(),(0,s.Cn)(),o),m={id:"tabla-usuarios"},p={key:0,class:"alert alert-info",role:"alert"},h={class:"table"},v=c((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",null,"ID"),(0,s._)("th",null,"Usuario"),(0,s._)("th",null,"Nombre"),(0,s._)("th",null,"Email"),(0,s._)("th",null,"Ciudad"),(0,s._)("th",null,"Numero"),(0,s._)("th",{colspan:"2"},"OPERACIONES")])],-1))),y={key:0},f={key:1},_={key:2},g=["onUpdate:modelValue"],w={key:3},b={key:4},E=["onUpdate:modelValue"],U={key:5},k={key:6},D=["onUpdate:modelValue"],C={key:7},I={key:8},O=["onUpdate:modelValue"],j={key:9},V={key:10},x=["onUpdate:modelValue"],F={key:11},T={key:12},z=["onClick"],N=["onClick"],A={key:13,class:"botones"},S=["onClick"],K=["onClick"];function $(o,a,t,r,n,i){return(0,s.wg)(),(0,s.iD)("div",m,[t.usuarios.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",p," No existen usuarios ")),(0,s._)("table",h,[v,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.usuarios,(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.id},[n.editando===a.id?((0,s.wg)(),(0,s.iD)("td",y,(0,d.zw)(a.id),1)):((0,s.wg)(),(0,s.iD)("td",f,(0,d.zw)(a.id),1)),n.editando===a.id?((0,s.wg)(),(0,s.iD)("td",_,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>a.username=o},null,8,g),[[e.nr,a.username]])])):((0,s.wg)(),(0,s.iD)("td",w,(0,d.zw)(a.username),1)),n.editando===a.id?((0,s.wg)(),(0,s.iD)("td",b,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>a.name=o},null,8,E),[[e.nr,a.name]])])):((0,s.wg)(),(0,s.iD)("td",U,(0,d.zw)(a.name),1)),n.editando===a.id?((0,s.wg)(),(0,s.iD)("td",k,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>a.email=o},null,8,D),[[e.nr,a.email]])])):((0,s.wg)(),(0,s.iD)("td",C,(0,d.zw)(a.email),1)),n.editando===a.id?((0,s.wg)(),(0,s.iD)("td",I,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>a.adress.city=o},null,8,O),[[e.nr,a.adress.city]])])):((0,s.wg)(),(0,s.iD)("td",j,(0,d.zw)(a.city),1)),n.editando===a.id?((0,s.wg)(),(0,s.iD)("td",V,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>a.phone=o},null,8,x),[[e.nr,a.phone]])])):((0,s.wg)(),(0,s.iD)("td",F,(0,d.zw)(a.phone),1)),n.editando===a.id?((0,s.wg)(),(0,s.iD)("td",T,[(0,s._)("button",{class:"btn btn-success btn-sm",onClick:o=>i.guardarusuario(a)},"💾 Guardar",8,z),(0,s._)("button",{class:"btn btn-danger btn-sm",onClick:o=>i.cancelaredicion(a)},"❌ Cancelar",8,N)])):((0,s.wg)(),(0,s.iD)("td",A,[(0,s._)("button",{class:"btn btn-info btn-sm",onClick:o=>i.editarusuario(a)},"✏️ Editar",8,S),(0,s._)("button",{class:"btn btn-danger btn-sm",onClick:t=>o.$emit("eliminarusuario",a)},"🗑️ Eliminar",8,K)]))])))),128))])])])}var P={name:"TablaUsuarios",props:{usuarios:Array},data(){return{editando:null}},methods:{editarusuario(o){this.usuarioEditado=Object.assign({},o),this.editando=o.id},cancelaredicion(o){Object.assign(o,this.usuarioEditado),this.editando=null},guardarusuario(o){o.username.length&&o.name.length&&o.email.length&&o.city.length&&o.phone.length&&(this.$emit("actualizarusuario",o),this.editando=null)}}},q=t(89);const Z=(0,q.Z)(P,[["render",$],["__scopeId","data-v-aa4241c6"]]);var G=Z;const J=o=>((0,s.dD)("data-v-0271bc5f"),o=o(),(0,s.Cn)(),o),L={id:"formulario-usuario"},M={class:"container"},W={class:"row"},H={class:"col-md-4"},R={class:"form-group"},Y=J((()=>(0,s._)("label",null,"Username",-1))),B={class:"col-md-4"},Q={class:"form-group"},X=J((()=>(0,s._)("label",null,"Nombre",-1))),oo={class:"col-md-4"},ao={class:"form-group"},to=J((()=>(0,s._)("label",null,"Email",-1))),eo={class:"col-md-4"},so={class:"form-group"},ro=J((()=>(0,s._)("label",null,"Ciudad",-1))),no={class:"col-md-4"},io={class:"form-group"},uo=J((()=>(0,s._)("label",null,"Teléfono",-1))),lo=J((()=>(0,s._)("div",{class:"row"},[(0,s._)("div",{class:"col-md-12"},[(0,s._)("div",{class:"form-group"},[(0,s._)("button",{class:"btn btn-primary"},"Alta Usuario")])])],-1))),co={class:"container"},mo={class:"row"},po={class:"col-md-12"},ho={key:0,class:"alert alert-danger",role:"alert"},vo={key:1,class:"alert alert-success",role:"alert"};function yo(o,a,t,r,n,i){return(0,s.wg)(),(0,s.iD)("div",L,[(0,s._)("form",{onSubmit:a[15]||(a[15]=(0,e.iM)(((...o)=>i.enviarForm&&i.enviarForm(...o)),["prevent"]))},[(0,s._)("div",M,[(0,s._)("div",W,[(0,s._)("div",H,[(0,s._)("div",R,[Y,(0,s.wy)((0,s._)("input",{ref:"name","onUpdate:modelValue":a[0]||(a[0]=o=>n.usuario.username=o),type:"text",class:(0,d.C_)(["form-control",{"is-invalid":n.procesando&&i.usernameInvalido}]),onFocus:a[1]||(a[1]=(...o)=>i.resetEstado&&i.resetEstado(...o)),onKeypress:a[2]||(a[2]=(...o)=>i.resetEstado&&i.resetEstado(...o))},null,34),[[e.nr,n.usuario.username]])])]),(0,s._)("div",B,[(0,s._)("div",Q,[X,(0,s.wy)((0,s._)("input",{ref:"name","onUpdate:modelValue":a[3]||(a[3]=o=>n.usuario.name=o),type:"text",class:(0,d.C_)(["form-control",{"is-invalid":n.procesando&&i.nameInvalido}]),onFocus:a[4]||(a[4]=(...o)=>i.resetEstado&&i.resetEstado(...o)),onKeypress:a[5]||(a[5]=(...o)=>i.resetEstado&&i.resetEstado(...o))},null,34),[[e.nr,n.usuario.name]])])]),(0,s._)("div",oo,[(0,s._)("div",ao,[to,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[6]||(a[6]=o=>n.usuario.email=o),type:"email",class:(0,d.C_)(["form-control",{"is-invalid":n.procesando&&i.emailInvalido}]),onFocus:a[7]||(a[7]=(...o)=>i.resetEstado&&i.resetEstado(...o)),onKeypress:a[8]||(a[8]=(...o)=>i.resetEstado&&i.resetEstado(...o))},null,34),[[e.nr,n.usuario.email]])])]),(0,s._)("div",eo,[(0,s._)("div",so,[ro,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[9]||(a[9]=o=>n.usuario.city=o),type:"text",class:(0,d.C_)(["form-control",{"is-invalid":n.procesando&&i.cityInvalido}]),onFocus:a[10]||(a[10]=(...o)=>i.resetEstado&&i.resetEstado(...o)),onKeypress:a[11]||(a[11]=(...o)=>i.resetEstado&&i.resetEstado(...o))},null,34),[[e.nr,n.usuario.city]])])]),(0,s._)("div",no,[(0,s._)("div",io,[uo,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[12]||(a[12]=o=>n.usuario.phone=o),type:"text",class:(0,d.C_)(["form-control",{"is-invalid":n.procesando&&i.phoneInvalido}]),onFocus:a[13]||(a[13]=(...o)=>i.resetEstado&&i.resetEstado(...o)),onKeypress:a[14]||(a[14]=(...o)=>i.resetEstado&&i.resetEstado(...o))},null,34),[[e.nr,n.usuario.phone]])])])]),lo]),(0,s._)("div",co,[(0,s._)("div",mo,[(0,s._)("div",po,[n.error&&n.procesando?((0,s.wg)(),(0,s.iD)("div",ho," Debes cubrir todos los campos ")):(0,s.kq)("",!0),o.correct?((0,s.wg)(),(0,s.iD)("div",vo," Usuario dado de alta correctamente ")):(0,s.kq)("",!0)])])])],32)])}var fo={name:"FormularioUsuario",data(){return{procesando:!1,correcto:!1,error:!1,usuario:{id:"",username:"",name:"",email:"",city:"",phone:""}}},methods:{enviarForm(){this.procesando=!0,this.resetEstado(),this.usernameInvalido||this.nameInvalido||this.emailInvalido||this.cityInvalido||this.phoneInvalido?this.error=!0:(this.$emit("alta-usuario",this.usuario),this.$refs.name.focus(),this.error=!1,this.correcto=!0,this.procesando=!1,this.usuario={id:"",username:"",name:"",email:"",city:"",phone:""})},resetEstado(){this.correcto=!1,this.error=!1}},computed:{usernameInvalido(){return this.usuario.username.length<1},nameInvalido(){return this.usuario.name.length<1},emailInvalido(){return this.usuario.email.length<1},cityInvalido(){return this.usuario.city.length<1},phoneInvalido(){return this.usuario.phone.length<1}}};const _o=(0,q.Z)(fo,[["render",yo],["__scopeId","data-v-0271bc5f"]]);var go=_o,wo={name:"app",components:{FormularioUsuario:go,TablaUsuarios:G},data(){return{usuarios:[]}},methods:{async postUsuario(o){try{const a=await fetch("http://localhost:3000/usuarios",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset = UTF-8"}}),t=await a.json();this.usuarios=[...this.usuarios,t]}catch(a){console.log(a)}},async getUsuarios(){try{const o=await fetch("http://localhost:3000/usuarios");this.usuarios=await o.json()}catch(o){console.log("Error en getUsuarios.",o)}},async deleteUsuario(o){try{await fetch(`http://localhost:3000/usuarios/${o.id}`,{method:"DELETE"}),this.usuarios=this.usuarios.filter((a=>a.id!==o.id))}catch(a){console.error(a)}},async putusuario(o){try{const a=await fetch(`http://localhost:3000/usuarios/${o.id}`,{method:"PUT",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset = UTF-8"}}),t=await a.json();this.usuarios=this.usuarios.map((a=>a.id===o.id?t:a))}catch(a){console.log(a)}}},mounted(){this.getUsuarios()}};const bo=(0,q.Z)(wo,[["render",l]]);var Eo=bo;(0,e.ri)(Eo).mount("#app")}},a={};function t(e){var s=a[e];if(void 0!==s)return s.exports;var r=a[e]={exports:{}};return o[e](r,r.exports,t),r.exports}t.m=o,function(){var o=[];t.O=function(a,e,s,r){if(!e){var n=1/0;for(d=0;d<o.length;d++){e=o[d][0],s=o[d][1],r=o[d][2];for(var i=!0,u=0;u<e.length;u++)(!1&r||n>=r)&&Object.keys(t.O).every((function(o){return t.O[o](e[u])}))?e.splice(u--,1):(i=!1,r<n&&(n=r));if(i){o.splice(d--,1);var l=s();void 0!==l&&(a=l)}}return a}r=r||0;for(var d=o.length;d>0&&o[d-1][2]>r;d--)o[d]=o[d-1];o[d]=[e,s,r]}}(),function(){t.n=function(o){var a=o&&o.__esModule?function(){return o["default"]}:function(){return o};return t.d(a,{a:a}),a}}(),function(){t.d=function(o,a){for(var e in a)t.o(a,e)&&!t.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:a[e]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){t.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)}}(),function(){var o={143:0};t.O.j=function(a){return 0===o[a]};var a=function(a,e){var s,r,n=e[0],i=e[1],u=e[2],l=0;if(n.some((function(a){return 0!==o[a]}))){for(s in i)t.o(i,s)&&(t.m[s]=i[s]);if(u)var d=u(t)}for(a&&a(e);l<n.length;l++)r=n[l],t.o(o,r)&&o[r]&&o[r][0](),o[r]=0;return t.O(d)},e=self["webpackChunkprojvuerest"]=self["webpackChunkprojvuerest"]||[];e.forEach(a.bind(null,0)),e.push=a.bind(null,e.push.bind(e))}();var e=t.O(void 0,[998],(function(){return t(2926)}));e=t.O(e)})();
//# sourceMappingURL=app.937cdc50.js.map